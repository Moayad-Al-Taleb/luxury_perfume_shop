<div id="sidebar" class="side-bar">
  <div id="sidebar-container" class="sidebar-container">
    <div id="hide-icon" class="hide-sidebar-icon">
      <i class="fa-solid fa-xmark"></i>
    </div>
    <img src="../assets/logo.png" class="sidebar-logo" alt="" />

    <h3 style="margin-bottom: 2rem; color: #eccb5c">متجر العطور الفاخرة</h3>
    <ul class="sidebar-links">
      <li>
        <a class="sidebar-link" href="users_management.php">
          <i class="fa-solid fa-users"></i>المستخدمين</a
        >
      </li>
      <li>
        <a class="sidebar-link" href="main_categories.php">
          <i class="fa-solid fa-boxes-stacked"></i>الفئات الرئيسية</a
        >
      </li>
      <li>
        <a class="sidebar-link" href="shipping_route_management.php">
          <i class="fa-solid fa-truck"></i>طرق الشحن</a
        >
      </li>
      <li>
        <a class="sidebar-link" href="invoices_management.php">
          <i class="fa-solid fa-wallet"></i>ادارة الفواتير</a
        >
      </li>
      <li>
        <a class="sidebar-link" href="compound_perfume_management.php">
          <i class="fa-solid fa-wallet"></i>ادارة فواتير العطور المركبة</a
        >
      </li>
    </ul>
  </div>
</div>

<script>
  //get the hide icon
  const hideIcon = document.getElementById("hide-icon");

  //add event to hide icon to add class active to this elements sidebar, sidebar-container
  hideIcon.onclick = () => {
    document.getElementById("sidebar").classList.add("active");
    document.getElementById("sidebar-container").classList.add("active");
  };

  // Get the current URL
  const currentUrl = window.location.href.split("?");

  // Get all the link elements
  const links = document.querySelectorAll(".sidebar-link");

  // Check if the link's href matches the current URL
  links.forEach(function (link) {
    if (currentUrl.includes(link.href)) {
      link.classList.add("active");
    }
  });

  if (
    location.href
      .split("?")
      .includes(
        "http://localhost/luxuryPerfumeShop/admin/sub_categories.php"
      ) ||
    location.href
      .split("?")
      .includes(
        "http://localhost/luxuryPerfumeShop/admin/products_management.php"
      ) ||
    location.href
      .split("?")
      .includes(
        "http://localhost/luxuryPerfumeShop/admin/manage_product_details.php"
      )
  ) {
    document
      .querySelector("a[href='main_categories.php']")
      .classList.add("active");
  }
</script>
